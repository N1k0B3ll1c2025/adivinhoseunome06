<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivinhe o Nome</title>

    <style>
        /* CSS Básico */
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        /* Estilo para a mensagem de erro (vermelho) */
        #mensagemErro {
            color: red;
            margin-top: 10px;
            font-weight: bold;
            display: none; 
        }
        
        /* Estilo para a mensagem de carregamento (azul) */
        #mensagemCarregando {
            color: steelblue; 
            margin-top: 10px;
            font-weight: bold;
            display: none; 
        }
        
        /* Estilo para a mensagem de sucesso (verde) */
        #mensagemSucesso {
            color: green; 
            margin-top: 10px;
            font-weight: bold;
            display: none;
        }

        /* Layout para alinhar o input e o botão */
        #formularioNome {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Estilo para o rodapé */
        footer {
            margin-top: 50px;
            font-size: 0.8em;
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }
    </style>
</head>
<body>

    <audio id="musicaFundo" autoplay loop>
        <source src="musica_fundo.mp3" type="audio/mpeg"> 
        Seu navegador não suporta a tag de áudio.
    </audio>

    <h1>Vou adivinhar seu nome</h1>

    <form id="formularioNome" onsubmit="return iniciarVerificacao(event)">

        <label for="campoNome">Digite aqui seu nome</label>

        <input 
            type="text" 
            id="campoNome" 
            name="nome_usuario"
            oninput="esconderErro()" 
        >
        
        <button type="submit" id="botaoEnviar">Enviar</button>

    </form>
    
    <p id="mensagemCarregando">Conferindo sua resposta</p>
    
    <p id="mensagemSucesso">Nome aceito! Redirecionando...</p>

    <p id="mensagemErro">Este nome já foi usado muitas vezes. Por favor, insira outro.</p>

    <footer>
        <p>Todos direitos reservados, © 2006 Rodrigo Websites</p>
    </footer>


    <script>
        // Variáveis globais para os elementos
        const MSG_ERRO = document.getElementById('mensagemErro');
        const MSG_CARREGANDO = document.getElementById('mensagemCarregando');
        const MSG_SUCESSO = document.getElementById('mensagemSucesso');
        const CAMPO_NOME = document.getElementById('campoNome');
        const BOTAO_ENVIAR = document.getElementById('botaoEnviar');
        let intervaloPontinhos; 
        
        // --- CHAVES DE CONFIGURAÇÃO ---
        const CHAVE_MARINA = "Marina"; 
        const CHAVE_AGATHA = "Agatha"; // Chave para o site alternativo
        
        // **URLS DE DESTINO**
        const URL_MARINA = "yep/index.html";    // <--- CORRIGIDO: CHAVE MARINA VAI PARA YEP
        const URL_AGATHA = "Iris/index.html";  // <--- CORRIGIDO: CHAVE AGATHA VAI PARA IRIS
        
        // ------------------------------


        // FUNÇÃO QUE É ACIONADA AO CLICAR EM 'ENVIAR'
        function iniciarVerificacao(event) {
            event.preventDefault(); 

            // Esconde todas as mensagens antes de começar
            MSG_ERRO.style.display = 'none';
            MSG_SUCESSO.style.display = 'none';
            
            const nomeDigitado = CAMPO_NOME.value.trim();

            if (nomeDigitado === '') {
                alert("Por favor, digite um nome antes de enviar.");
                return false;
            }

            // Inicia o processo de carregamento/animação
            BOTAO_ENVIAR.disabled = true;
            animarPontinhos();
            
            // Espera de 5 segundos
            setTimeout(() => {
                finalizarVerificacao(nomeDigitado);
            }, 5000); 

            return false; 
        }

        // FUNÇÃO EXECUTADA APÓS OS 5 SEGUNDOS
        function finalizarVerificacao(nomeDigitado) {
            // 1. Para a animação
            clearInterval(intervaloPontinhos);
            MSG_CARREGANDO.style.display = 'none';
            BOTAO_ENVIAR.disabled = false;
            
            const nomeDigitadoLowerCase = nomeDigitado.toLowerCase();
            let urlRedirecionamento = null;
            
            // 2. Verifica as chaves secretas
            if (nomeDigitadoLowerCase === CHAVE_MARINA.toLowerCase()) {
                urlRedirecionamento = URL_MARINA;
            } else if (nomeDigitadoLowerCase === CHAVE_AGATHA.toLowerCase()) { 
                urlRedirecionamento = URL_AGATHA;
            }
            
            if (urlRedirecionamento) {
                
                // 3. MOSTRA A MENSAGEM DE SUCESSO BREVEMENTE
                MSG_SUCESSO.style.display = 'block';
                
                // 4. Define um atraso de 1 segundo para o redirecionamento
                setTimeout(() => {
                    window.location.href = urlRedirecionamento; 
                }, 1000); 
                
            } else {
                
                // ERRO PADRÃO
                MSG_ERRO.style.display = 'block';
            }
        }

        // FUNÇÃO QUE FAZ OS PONTINHOS PISCAREM
        function animarPontinhos() {
            let contador = 0;
            MSG_CARREGANDO.textContent = "Conferindo sua resposta";
            MSG_CARREGANDO.style.display = 'block'; 

            intervaloPontinhos = setInterval(() => {
                contador = (contador % 3) + 1; 
                let pontinhos = ".".repeat(contador);
                MSG_CARREGANDO.textContent = "Conferindo sua resposta" + pontinhos;
            }, 500); 
        }

        // FUNÇÃO QUE ESCONDE O ERRO AO DIGITAR
        function esconderErro() {
            // Esconde todas as mensagens
            MSG_ERRO.style.display = 'none';
            MSG_SUCESSO.style.display = 'none';
            
            // Para animação e habilita botão
            clearInterval(intervaloPontinhos);
            MSG_CARREGANDO.style.display = 'none';
            BOTAO_ENVIAR.disabled = false;
        }

        // --- CÓDIGO PARA CONTORNAR O BLOQUEIO DE AUTOPLAY DO NAVEGADOR ---
        function tentarTocarMusica() {
            const musica = document.getElementById('musicaFundo');
            musica.play().catch(error => {});
            document.removeEventListener('click', tentarTocarMusica);
        }

        document.addEventListener('click', tentarTocarMusica);
    </script>

</body>
</html>